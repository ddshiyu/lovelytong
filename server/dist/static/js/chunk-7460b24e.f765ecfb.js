(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7460b24e"],{"42ba":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return u}));var n=r("b775");function a(e){return Object(n["a"])({url:"/rest/recommend",method:"get",params:e})}function c(e){return Object(n["a"])({data:e,url:"/rest/recommend",method:"post"})}function o(e){return Object(n["a"])({url:"/rest/recommend/".concat(e),method:"delete"})}function i(e){return Object(n["a"])({url:"/rest/recommend/".concat(e),method:"get"})}function u(e,t){return Object(n["a"])({method:"put",url:"/rest/recommend/".concat(t),data:e})}},"43eb":function(e,t,r){},"60ed":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"标题："}},[r("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"地址："}},[r("el-input",{model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"图标地址："}},[r("el-upload",{attrs:{action:e.uploadUrl,"list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-success":e.handleSuccess}},[r("i",{staticClass:"el-icon-plus"})]),e._v(" "),r("p",[e._v("或者")]),e._v(" "),r("el-input",{model:{value:e.form.imageUrl,callback:function(t){e.$set(e.form,"imageUrl",t)},expression:"form.imageUrl"}}),e._v(" "),e.form.imageUrl?r("img",{staticStyle:{"margin-top":"20px"},attrs:{width:"150",src:e.form.imageUrl,alt:""}}):e._e(),e._v(" "),r("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("img",{attrs:{width:"100%",src:e.form.imageUrl,alt:""}})])],1),e._v(" "),r("el-form-item",{attrs:{label:"分类："}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},e._l(e.allCategories,(function(e){return r("el-option",{key:e.title,attrs:{label:e.title,value:e._id}})})),1)],1),e._v(" "),r("el-form-item",[r("el-button",{on:{click:e.onSubmit}},[e._v("Create")]),e._v(" "),r("el-button",{on:{click:e.onCancel}},[e._v("Cancel")])],1)],1)],1)},a=[],c=(r("96cf"),r("3b8d")),o=r("42ba"),i=r("c405"),u={name:"AddRecommend",props:{id:String},data:function(){return{form:{title:"",url:"",category:"",imageUrl:""},allCategories:[],dialogVisible:!1}},created:function(){this.id&&this.fetchData(),this.fetchCategory()},methods:{fetchCategory:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["c"])();case 2:t=e.sent,this.allCategories=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handlePictureCardPreview:function(e){this.form.imageUrl=e.url,this.dialogVisible=!0},handleSuccess:function(e){console.log(e),this.form.imageUrl=e.url},onSubmit:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.id){e.next=6;break}return e.next=3,Object(o["a"])(this.form);case 3:e.sent,e.next=9;break;case 6:return e.next=8,Object(o["e"])(this.form,this.id);case 8:e.sent;case 9:this.$router.push("/recommend/showRecommend");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onCancel:function(){this.$message({message:"cancel!",type:"warning"})},fetchData:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["d"])(this.id);case 2:t=e.sent,console.log(t),this.form=Object.assign({},this.form,t.data);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},l=u,s=(r("c901"),r("2877")),m=Object(s["a"])(l,n,a,!1,null,"674c12de",null);t["default"]=m.exports},c405:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return u}));var n=r("b775");function a(e){return Object(n["a"])({url:"/rest/category",method:"post",data:e})}function c(){return Object(n["a"])({url:"/rest/category",method:"get"})}function o(e){return Object(n["a"])({url:"/rest/category/".concat(e),method:"delete"})}function i(e){return Object(n["a"])({url:"/rest/category/".concat(e),method:"get"})}function u(e,t){return Object(n["a"])({url:"/rest/category/".concat(t),method:"put",data:e})}},c901:function(e,t,r){"use strict";var n=r("43eb"),a=r.n(n);a.a}}]);